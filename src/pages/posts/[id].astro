---
import MiLayout from "../../layouts/MiLayout.astro"

interface Post {
    id: number
    title:string
    body:string
}


/* const {id} = Astro.params
const response = await fetch("https://jsonplaceholder.typicode.com/posts/"+id)
const post = await response.json() */

export async function getStaticPaths() {
    const response = await fetch("https://jsonplaceholder.typicode.com/posts/")
    const posts:Post[] = await response.json()
    return posts.map(post => ({
        params: {id: post.id.toString()}, props: {post:post}
    }))
}
const {post} = Astro.props
    
---


<MiLayout>
    <h1>Datos del Post</h1>
    <p>Titulo: {post.title}</p>
    <p>Contenido: {post.body}</p>
</MiLayout>
